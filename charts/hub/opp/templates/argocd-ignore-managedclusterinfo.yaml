apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-ignore-dynamic-objects
  namespace: open-cluster-management
  labels:
    app.kubernetes.io/name: argocd-configuration
    app.kubernetes.io/component: ignore-rules
  annotations:
    argocd.argoproj.io/compare-options: IgnoreExtraneous
    argocd.argoproj.io/sync-options: Prune=false
    argocd.argoproj.io/health-check-ignore: "true"
    argocd.argoproj.io/sync-wave: "0"
data:
  # This ConfigMap serves as a placeholder to ensure ArgoCD ignores
  # dynamically created objects that are managed by the OpenShift
  # cluster management system and should not be managed by ArgoCD
  ignore-dynamic-objects: |
    The following objects are dynamically created and managed by OpenShift
    cluster management and should be ignored by ArgoCD:
    
    - managedclusterinfos (internal.open-cluster-management.io/v1beta1)
    - managedclusteraddons (addon.open-cluster-management.io/v1alpha1)
    - clustermanagementaddons (addon.open-cluster-management.io/v1alpha1)
    - managedclustersets (cluster.open-cluster-management.io/v1beta2)
    - managedclustersetbindings (cluster.open-cluster-management.io/v1beta2)
    - placementdecisions (cluster.open-cluster-management.io/v1beta1)
    - workmanifestworks (work.open-cluster-management.io/v1)
    - manifestworks (work.open-cluster-management.io/v1)
    - appliedmanifestworks (work.open-cluster-management.io/v1)
    
    These objects are automatically created and managed by the OpenShift
    cluster management operators and should not be included in ArgoCD
    application definitions.
